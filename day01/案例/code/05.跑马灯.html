<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>跑马灯效果</title>
    <script src="./lib/vue.js"></script>
</head>
<body>
    <div id="app">
        <input type="button" value="浪起来" @click="lang">
        <input type="button" value="低调" @click="stop">
        <h4 v-text="msg"></h4>
    </div>
</body>
<script>
    var vm = new Vue({
        el: '#app',
        data:{
            msg: '猥琐发育，别浪~~~~!',
            intervalID: null
        },
        methods: {
            // lang: function () {
            //     console.log(this.msg)
            // }
            lang(){
                /*
                // 获取到第一个字母
                var start = this.msg.substring(0,1)
                // 获取后面的字符
                var end = this.msg.substring(1)
                // 拼接
                this.msg = end + start
                console.log(this.msg)
                */
                /*
                var _this = this
                setInterval(function () {
                    var start = _this.msg.substring(0,1)
                    var end = _this.msg.substring(1)
                    _this.msg = end + start
                }, 400);
                */
                // 如果定时器还在运行中就不要再开启
                if( this.intervalID != null ) return
                this.intervalID = setInterval(() => {
                    var start = this.msg.substring(0,1)
                    var end = this.msg.substring(1)
                    this.msg = end + start
                }, 400);
            },
            stop(){
                // 停止定时器
                clearInterval(this.intervalID)
                // 还原定时器
                this.intervalID = null
            }
        },
    })
    // 分析
    // 1.实现 按钮 让 字符串 走起来 v-on事件 来触发
    // 2.在按钮的事件中，写相关 逻辑代码；先拿到msg，然后调用字符串函数 substring进行 字符串的截取
    // 把第一个字符串截取出来，放到最后一个位置上；

</script>
</html>